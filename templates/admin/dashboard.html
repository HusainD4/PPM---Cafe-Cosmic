{% extends 'admin/base.html' %}

{% block title %}Dashboard Admin{% endblock %}

{% block content %}
<div class="wrapper">
  <!-- Sidebar sudah ada di base.html -->

  <main class="main-content">
    <header>
      <h1>Dashboard Admin</h1>
    </header>

    <section class="stats-container">
      <div class="card stat-card">
        <h3>Jumlah Users</h3>
        <p class="stat-number">{{ jumlah_users }}</p>
      </div>
      <div class="card stat-card">
        <h3>Jumlah Produk</h3>
        <p class="stat-number">{{ jumlah_produk }}</p>
      </div>
      <div class="card stat-card">
        <h3>Jumlah Best Seller</h3>
        <p class="stat-number">{{ jumlah_best_seller }}</p>
      </div>
      <div class="card stat-card">
        <h3>Jumlah Promo</h3>
        <p class="stat-number">{{ jumlah_promo }}</p>
      </div>
    </section>

    <section class="table-section">
      <h2>Produk Terbaru</h2>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>ID Produk</th>
            <th>Nama Produk</th>
            <th>Harga</th>
            <th>Ditambahkan Oleh</th>
            <th>Created At</th>
          </tr>
        </thead>
        <tbody>
          {% for p in produk_terbaru %}
          <tr>
            <td>{{ p.id_produk }}</td>
            <td>{{ p.nama_produk }}</td>
            <td>{{ p.harga_produk }}</td>
            <td>{{ p.added_by or 'Unknown' }}</td>
            <td>{{ p.created_at }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>

    <section class="table-section mt-4">
      <h2>Best Seller Terbaru</h2>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>ID Best Seller</th>
            <th>Nama Produk</th>
            <th>Harga</th>
            <th>Tanggal Berlaku Sampai</th>
            <th>Username</th>
          </tr>
        </thead>
        <tbody>
          {% for bs in best_seller_terbaru %}
          <tr>
            <td>{{ bs.id_best_seller }}</td>
            <td>{{ bs.nama_produk }}</td>
            <td>{{ bs.harga_produk }}</td>
            <td>{{ bs.tanggal_berlaku_sampai }}</td>
            <td>{{ bs.username or 'Unknown' }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
  </main>
</div>
{% endblock %}
